# Product Context

菌落检测模型训练项目 - 基于70x70图像的二分类任务
2025-01-02 更新 - 项目核心信息建立

## Project Goal

建立一个完整的菌落检测模型训练和评估系统，用于70x70像素图像的二分类任务：
- **阳性**：图像中存在菌落
- **阴性**：无菌落或仅有气孔

核心目标：
1. 支持多种深度学习模型的训练和对比
2. 提供全面的性能评估和可视化分析
3. 建立标准化的模型开发工作流
4. 实现参数调优和模型选择的自动化

## Key Features

### 已实现功能
- **统一配置管理系统** (core/config/)
  - 模型配置 (model_configs.py)
  - 训练配置 (training_configs.py) 
  - 路径管理 (paths.py)

- **标准化脚本工具**
  - train_model.py - 统一训练接口
  - evaluate_model_fixed.py - 模型评估（已修复）
  - compare_models.py - 多模型对比
  - add_new_model.py - 新模型添加
  - cleanup_project.py - 项目清理

- **现有训练模型**
  - EfficientNet-B0 (轻量级)
  - ResNet18-Improved (改进版)

- **完整评估体系**
  - 训练历史记录
  - 混淆矩阵和ROC曲线
  - 样本分析和可视化
  - HTML综合报告

### 计划功能
- **扩展模型支持**
  - ConvNext-Tiny (模板已创建，待实现) ✅
  - CoAtNet (混合注意力机制)
  - 更多SOTA模型

- **高级分析功能**
  - 模型可解释性分析
  - 特征重要性评估
  - 错误案例深度分析
  - 自动化超参数调优

### 已实现扩展功能
- **项目清理和组织** ✅
  - 自动化项目清理脚本
  - 标准化目录结构
  - 冗余文件清理和归档
- **模型模板生成系统** ✅
  - 统一的新模型添加工具
  - 自动生成训练和评估脚本
  - 配置系统自动更新
- **分层报告系统** ✅
  - 执行摘要报告（决策层支持）
  - 技术详细报告（HTML+交互图表）
  - 个别模型深度分析（8个详细报告）
  - 交互式对比仪表板（动态筛选和可视化）

[2025-08-03 12:32:04] - New feature: 分层报告系统实施完成，包含4个层次的完整报告结构

## Overall Architecture

```
bioastModel/
├── core/                    # 核心配置和工具
│   └── config/             # 统一配置管理
├── scripts/                # 标准化脚本
├── models/                 # 模型定义
├── training/               # 训练相关模块
├── experiments/            # 实验结果存储
├── reports/                # 评估报告
└── memory-bank/           # 项目记忆库
```

**数据流架构**：
1. 数据加载 → 模型训练 → 结果保存
2. 模型评估 → 可视化分析 → 报告生成
3. 多模型对比 → 性能分析 → 模型选择

**当前最佳模型性能**：
- ResNet18-Improved: 验证准确率 98.7%
- 训练21轮，最终验证损失 0.073
- 良好的收敛性和泛化能力